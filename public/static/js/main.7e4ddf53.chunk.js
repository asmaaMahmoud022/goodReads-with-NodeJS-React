(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){e.exports=a(222)},112:function(e,t,a){},119:function(e,t,a){},138:function(e,t,a){},202:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(22),c=a.n(r),l=(a(112),a(16)),i=a(38),s=a(13),u=a(37),p=a(101),m=a(52),d=a.n(m),h=(a(118),a(36)),f={email:"",password:"",token:null,user:{image:""}},g={firstName:"",lastName:"",email:"",password:"",passwordConfirm:"",isConfirmPasswordInvalid:!1,image:""},v=a(21),E=a.n(v),b={token:"",email:"",password:"",emailState:"",activeTab:"1"},y={isBookModal:!1,books:[],currentBook:{name:""},activeTodosTab:"1",todos:[],search:[]},O={isAuthorModal:!1,authors:[],currentAuthor:{},authorsList:{}},k={isCategoryModal:!1,categories:[],categoriesList:{},currentCategory:{name:""}},C={author:[],categories:[]},j=Object(u.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LOGIN_FIELD":var a=Object(h.a)({},e),n=t.payload,o=n.key,r=n.value;return a[o]=r,a;default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_REGISTER_FIELD":var a=Object(h.a)({},e),n=t.payload,o=n.key,r=n.value;return a[o]=r,a;case"RESET_REGISTER_FIELDS":return g;default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ADMIN_PROPS":for(var a=e,n=0;n<t.payload.length;n++)a=E.a.set(a,t.payload[n].prop,t.payload[n].value);return a;case"MERGE_ADMIN_PROPS":for(var o=e,r=0;r<t.payload.length;r++)o=E.a.merge(o,t.payload[r].prop,t.payload[r].value);return o;case"DELETE_ADMIN_PROPS":for(var c=e,l=0;l<t.payload.length;l++)c=E.a.delete(c,t.payload[l].prop);return c;default:return e}},general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_GENERAL_PROPS":for(var a=e,n=0;n<t.payload.length;n++)a=E.a.set(a,t.payload[n].prop,t.payload[n].value);return a;default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BOOKS_PROPS":for(var a=e,n=0;n<t.payload.length;n++)a=E.a.set(a,t.payload[n].prop,t.payload[n].value);return a;case"MERGE_BOOKS_PROPS":for(var o=e,r=0;r<t.payload.length;r++)o=E.a.merge(o,t.payload[r].prop,t.payload[r].value);return o;case"DELETE_BOOKS_PROPS":for(var c=e,l=0;l<t.payload.length;l++)c=E.a.delete(c,t.payload[l].prop);return c;default:return e}},authors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_AUTHORS_PROPS":for(var a=e,n=0;n<t.payload.length;n++)a=E.a.set(a,t.payload[n].prop,t.payload[n].value);return a;case"MERGE_AUTHORS_PROPS":for(var o=e,r=0;r<t.payload.length;r++)o=E.a.merge(o,t.payload[r].prop,t.payload[r].value);return o;case"DELETE_AUTHORS_PROPS":for(var c=e,l=0;l<t.payload.length;l++)c=E.a.delete(c,t.payload[l].prop);return c;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CATEGORIES_PROPS":for(var a=e,n=0;n<t.payload.length;n++)a=E.a.set(a,t.payload[n].prop,t.payload[n].value);return a;case"MERGE_CATEGORIES_PROPS":for(var o=e,r=0;r<t.payload.length;r++)o=E.a.merge(o,t.payload[r].prop,t.payload[r].value);return o;case"DELETE_CATEGORIES_PROPS":for(var c=e,l=0;l<t.payload.length;l++)c=E.a.delete(c,t.payload[l].prop);return c;default:return e}}}),w=(a(119),a(9)),S=a(10),P=a(12),A=a(11),_=a(237),x=a(238),T=a(239),N=a(227),R=a(228),D=a(229),B=a(230),M=a(231),I=a(232),L=a(233),U=a(234),F=a(14),H=a.n(F),G="Good Reads",W=function(){return localStorage.getItem("token")},q=function(e){return localStorage.setItem("token",e)},z="".concat("","/api"),K=function(e,t,a){m.store.addNotification({title:e,message:t,type:a,insert:"top",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}})},V=function(e){console.log(e),K("Error!",e.response&&e.response.data.message||"Something went wrong.","danger")},J=function(e,t){return function(a){a({type:"UPDATE_LOGIN_FIELD",payload:{key:e,value:t}})}},X=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateLoginField(n,o)},e.onSubmit=function(t){t.preventDefault();var a=e.props,n=a.email,o=a.password;(0,a.loginUser)(n,o)},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.password;return o.a.createElement(N.a,{color:"light",light:!0,expand:"md"},o.a.createElement(R.a,{href:"/"},"Good Reads"),o.a.createElement(D.a,{className:"ml-auto",navbar:!0},o.a.createElement(B.a,{method:"POST",inline:!0,onSubmit:this.onSubmit},o.a.createElement(M.a,{className:"mb-2 mr-sm-2 mb-sm-0"},o.a.createElement(I.a,{for:"exampleEmail",className:"mr-sm-2"},"Email"),o.a.createElement(L.a,{type:"email",name:"email",onChange:this.onChange,placeholder:"something@example.com",value:t,required:!0})),o.a.createElement(M.a,{className:"mb-2 mr-sm-2 mb-sm-0"},o.a.createElement(I.a,{for:"examplePassword",className:"mr-sm-2"},"Password"),o.a.createElement(L.a,{type:"password",name:"password",onChange:this.onChange,placeholder:"123456",value:a,required:!0})),o.a.createElement(U.a,{type:"submit"},"Sign in"))))}}]),a}(n.Component),Z=Object(s.b)((function(e){var t=e.login;return{email:t.email,password:t.password}}),{updateLoginField:J,loginUser:function(e,t){return function(a){H.a.post("".concat(z,"/login"),{email:e,password:t}).then((function(e){var t=e.data,n=t.token,o=t.message;q(n),a(J("email","")),a(J("password","")),a(J("token",n)),K("Success!",o,"success")})).catch((function(e){return V(e)}))}}})(X),$=a(235),Y=a(258),Q=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateRegisterField(n,o)},e.onConfirmPasswordChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateRegisterField("isConfirmPasswordInvalid",e.props.password!==o),e.props.updateRegisterField(n,o)},e.onPasswordChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateRegisterField("isConfirmPasswordInvalid",e.props.passwordConfirm!==o),e.props.updateRegisterField(n,o)},e.onChangeImage=function(t){var a=t.target.files[0];e.props.updateRegisterField("image",a)},e.onSubmit=function(t){t.preventDefault();var a=e.props,n=a.firstName,o=a.lastName,r=a.email,c=a.password,l=a.image;e.props.signupUser({firstName:n,lastName:o,email:r,password:c,image:l})},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.firstName,a=e.lastName,n=e.email,r=e.password,c=e.passwordConfirm,l=e.isConfirmPasswordInvalid;return o.a.createElement(B.a,{method:"POST",onSubmit:this.onSubmit},o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"text",name:"firstName",placeholder:"first name",onChange:this.onChange,value:t,required:!0})),o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"text",name:"lastName",placeholder:"last name",onChange:this.onChange,value:a,required:!0})),o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"email",name:"email",placeholder:"somthing@example.com",onChange:this.onChange,value:n,required:!0})),o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"password",name:"password",placeholder:"password",onChange:this.onPasswordChange,value:r,required:!0})),o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"password",name:"passwordConfirm",placeholder:"confirm password",onChange:this.onConfirmPasswordChange,value:c,invalid:l,required:!0}),o.a.createElement($.a,null,"Confirm password does not match.")),o.a.createElement(M.a,null,o.a.createElement(Y.a,{id:"image",type:"file",name:"image",placeholder:"choose image",onChange:this.onChangeImage,required:!0})),o.a.createElement(U.a,{type:"submit"},"Sign up"))}}]),a}(n.Component),ee=Object(s.b)((function(e){var t=e.register;return{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,passwordConfirm:t.passwordConfirm,image:t.image,isConfirmPasswordInvalid:t.isConfirmPasswordInvalid}}),{updateRegisterField:function(e,t){return function(a){a({type:"UPDATE_REGISTER_FIELD",payload:{key:e,value:t}})}},signupUser:function(e){return function(t){var a=function(e){var t=new FormData,a=e.firstName,n=e.lastName,o=e.email,r=e.password,c=e.image;return t.append("firstName",a),t.append("lastName",n),t.append("email",o),t.append("password",r),t.append("image",c),t}(e);console.log("formData",a),H.a.post("".concat(z,"/signup"),a).then((function(e){var a=e.data,n=a.token,o=a.message;q(n),t({type:"UPDATE_LOGIN_FIELD",payload:{key:"token",value:n}}),t({type:"RESET_REGISTER_FIELDS"}),K("Success!",o,"success")})).catch((function(e){return V(e)}))}}})(Q),te=a(236),ae=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return o.a.createElement(te.a,null,o.a.createElement("h2",{className:"display-3"},"Welcome to Good Reads!"),o.a.createElement("p",{className:"lead"},"Where you can increase your knowledge"),o.a.createElement("hr",{className:"my-2"}),o.a.createElement("p",{className:"lead"},"Join us NOW!"))}}]),a}(n.Component),ne=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Home - ".concat(G)}},{key:"componentDidUpdate",value:function(){this.props.token&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return o.a.createElement(_.a,null,o.a.createElement(Z,null),o.a.createElement(x.a,null,o.a.createElement(T.a,{xs:"6"},o.a.createElement(ae,null)),o.a.createElement(T.a,{xs:"6"},o.a.createElement(ee,null))))}}]),a}(n.Component),oe=Object(s.b)((function(e){return{token:e.login.token}}))(ne),re=a(245),ce=a(246),le=a(257),ie=a(240),se=a(241),ue=a(242),pe=a(102),me=a.n(pe),de=(a(137),a(138),a(24)),he=a(34),fe=(a(63),function(e){return function(t){t({type:"UPDATE_AUTHORS_PROPS",payload:e})}}),ge=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).editAuthorModal=function(t,a){t.index=a,e.props.updateAuthorsProps([{prop:"currentAuthor",value:Object(h.a)({},t,{dob:new Date(t.dob)})},{prop:"isAuthorModal",value:!e.props.isModal}])},e.renderActions=function(t){var a=t.original,n=t.index;return o.a.createElement("div",null,o.a.createElement(U.a,{onClick:e.editAuthorModal.bind(Object(de.a)(e),a,n),color:"primary",style:{marginRight:10,marginLeft:10}},o.a.createElement("i",{className:"fa fa-edit"})),o.a.createElement(U.a,{color:"danger",onClick:function(){window.confirm("Are you sure?")&&e.props.deleteAuthor(a._id,n)}},o.a.createElement("i",{className:"fa fa-trash"})))},e.columns=[{Header:"Id",accessor:"_id",minWidth:200},{Header:"Firstname",accessor:"firstName"},{Header:"Lastname",accessor:"lastName"},{Header:"Image",Cell:function(e){var t=e.original.image;return o.a.createElement("img",{src:"".concat("","/images/").concat(t),style:{width:"50px",height:"40px"}})}},{Header:"Date of birth",Cell:function(e){return new Date(e.original.dob).toDateString()}},{Header:"Actions",Cell:e.renderActions.bind(Object(de.a)(e)),sortable:!1}],e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.authors;return o.a.createElement(he.a,{defaultPageSize:5,columns:this.columns,data:e,getTdProps:function(){return{style:{display:"flex",justifyContent:"center"}}}})}}]),a}(n.Component),ve=Object(s.b)((function(e){var t=e.authors;return{authors:t.authors,isModal:t.isAuthorModal}}),{updateAuthorsProps:fe,deleteAuthor:function(e,t){return function(a){H.a.delete("".concat(z,"/authors/").concat(e)).then((function(e){var n;a((n=[{prop:"authors."+t}],function(e){e({type:"DELETE_AUTHORS_PROPS",payload:n})})),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}}})(ge),Ee=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).toggle=function(){e.props.updateAuthorsProps([{prop:"currentAuthor",value:{dob:new Date}},{prop:"isAuthorModal",value:!e.props.isModal}])},e.onChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateAuthorsProps([{prop:"currentAuthor."+n,value:o}])},e.onChangeImage=function(t){var a=t.target.files[0];e.props.updateAuthorsProps([{prop:"currentAuthor.image",value:a}])},e.onSubmit=function(t){t.preventDefault();var a=e.props,n=a.addNewAuthor,o=a.updateAuthor,r=a.currentAuthor;r._id?o(r,r.index):n(r)},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isModal,n=t.currentAuthor,r=n._id,c=n.firstName,l=n.lastName,i=n.dob;return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12",style:{display:"flex",justifyContent:"flex-end",padding:"20px"}},o.a.createElement(U.a,{color:"success",onClick:this.toggle},o.a.createElement("i",{className:"fa fa-plus"})))),o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12"},o.a.createElement(ve,null))),o.a.createElement(le.a,{isOpen:a,toggle:this.toggle},o.a.createElement(B.a,{onSubmit:this.onSubmit,method:"POST"},o.a.createElement(ie.a,{toggle:this.toggle},"Author"),o.a.createElement(se.a,null,o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"text",name:"firstName",placeholder:"First name",value:c,onChange:this.onChange,required:!0})),o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"text",name:"lastName",placeholder:"Last Name",value:l,onChange:this.onChange,required:!0})),!r&&o.a.createElement(M.a,null,o.a.createElement(Y.a,{required:!0,id:"image",type:"file",name:"image",placeholder:"choose image",onChange:this.onChangeImage})),o.a.createElement(M.a,null,o.a.createElement("div",{className:"customDatePickerWidth"},o.a.createElement(me.a,{selected:i,name:"dob",dateFormat:"dd/MM/yyyy",onChange:function(t){return e.props.updateAuthorsProps([{prop:"currentAuthor.dob",value:t}])}})))),o.a.createElement(ue.a,null,o.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),o.a.createElement(U.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),a}(n.Component),be=Object(s.b)((function(e){var t=e.authors;return{isModal:t.isAuthorModal,currentAuthor:t.currentAuthor}}),{updateAuthorsProps:fe,addNewAuthor:function(e){return function(t){var a=function(e){var t=new FormData,a=e.firstName,n=e.lastName,o=e.image,r=e.dob;return t.append("firstName",a),t.append("lastName",n),t.append("dob",r),t.append("image",o),t}(e);H.a.post("".concat(z,"/authors"),a).then((function(e){var a,n=e.data.data;t((a=[{prop:"authors",value:n}],function(e){e({type:"MERGE_AUTHORS_PROPS",payload:a})})),t(fe([{prop:"isAuthorModal",value:!1}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}},updateAuthor:function(e,t){return function(a){H.a.patch("".concat(z,"/authors/").concat(e._id),e).then((function(e){var n=e.data.data;a(fe([{prop:"authors."+t,value:n}])),a(fe([{prop:"isAuthorModal",value:!1}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}}})(Ee),ye=a(41),Oe=function(e){return function(t){t({type:"UPDATE_BOOKS_PROPS",payload:e})}},ke=function(e){return function(t){t({type:"DELETE_BOOKS_PROPS",payload:e})}},Ce=function(e){return function(t){t({type:"MERGE_BOOKS_PROPS",payload:e})}},je=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).editBookModal=function(t,a){t.index=a,e.props.updateBooksProps([{prop:"currentBook",value:t},{prop:"isBookModal",value:!e.props.isModal}])},e.renderActions=function(t){var a=t.original,n=t.index;return o.a.createElement("div",null,o.a.createElement(U.a,{onClick:e.editBookModal.bind(Object(de.a)(e),a,n),color:"primary",style:{marginRight:10,marginLeft:10}},o.a.createElement("i",{className:"fa fa-edit"})),o.a.createElement(U.a,{color:"danger",onClick:function(){window.confirm("Are you sure?")&&e.props.deleteBook(a._id,n)}},o.a.createElement("i",{className:"fa fa-trash"})))},e.columns=[{Header:"Id",accessor:"_id",minWidth:200},{Header:"Name",accessor:"name"},{Header:"Image",Cell:function(e){var t=e.original.image;return o.a.createElement("img",{src:"".concat("","/images/").concat(t),style:{width:"50px",height:"40px"}})}},{Header:"Category",accessor:"category.name"},{Header:"Author",Cell:function(e){if(e.original.author){var t=e.original.author;return t.firstName+" "+t.lastName}}},{Header:"Actions",Cell:e.renderActions.bind(Object(de.a)(e)),sortable:!1}],e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.books;return o.a.createElement(he.a,{defaultPageSize:5,columns:this.columns,data:e,getTdProps:function(){return{style:{display:"flex",justifyContent:"center"}}}})}}]),a}(n.Component),we=Object(s.b)((function(e){var t=e.books;return{books:t.books,isModal:t.isBookModal}}),{updateBooksProps:Oe,deleteBook:function(e,t){return function(a){H.a.delete("".concat(z,"/books/").concat(e)).then((function(e){a(ke([{prop:"books."+t}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}}})(je),Se=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).toggle=function(){var t=e.props,a=t.isModal,n=t.categories,o=t.authors;e.props.updateBooksProps([{prop:"currentBook",value:{name:"",category:n[0],author:o[0]}},{prop:"isBookModal",value:!a}])},e.onChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateBooksProps([{prop:"currentBook."+n,value:o}])},e.onChangeImage=function(t){var a=t.target.files[0];e.props.updateBooksProps([{prop:"currentBook.image",value:a}])},e.onSubmit=function(t){t.preventDefault();var a=e.props,n=a.addNewBook,o=a.updateBook,r=a.currentBook;r._id?o(r,r.index):n(r)},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isModal,n=t.currentBook,r=t.categories,c=t.authors,l=n._id,i=n.name,s=n.author,u=n.category;return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12",style:{display:"flex",justifyContent:"flex-end",padding:"20px"}},o.a.createElement(U.a,{color:"success",onClick:this.toggle},o.a.createElement("i",{className:"fa fa-plus"})))),o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12"},o.a.createElement(we,null))),o.a.createElement(le.a,{isOpen:a,toggle:this.toggle},o.a.createElement(B.a,{onSubmit:this.onSubmit,method:"POST"},o.a.createElement(ie.a,{toggle:this.toggle},"Book"),o.a.createElement(se.a,null,o.a.createElement(M.a,null,o.a.createElement(L.a,{type:"text",name:"name",placeholder:"book name",value:i,onChange:this.onChange,required:!0})),!l&&o.a.createElement(M.a,null,o.a.createElement(Y.a,{required:!0,id:"image",type:"file",name:"image",placeholder:"choose image",onChange:this.onChangeImage})),o.a.createElement(M.a,null,o.a.createElement(ye.a,{value:u,placeholder:"Select Category",options:r,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e._id},required:!0,onChange:function(t){return e.props.updateBooksProps([{prop:"currentBook.category",value:t}])}})),o.a.createElement(M.a,null,o.a.createElement(ye.a,{value:s,placeholder:"Select author",options:c,getOptionLabel:function(e){var t=e.firstName,a=e.lastName;return"".concat(t," ").concat(a)},getOptionValue:function(e){return e._id},onChange:function(t){return e.props.updateBooksProps([{prop:"currentBook.author",value:t}])}}))),o.a.createElement(ue.a,null,o.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),o.a.createElement(U.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),a}(n.Component),Pe=Object(s.b)((function(e){var t=e.books,a=t.isBookModal,n=t.currentBook,o=e.authors.authors;return{isModal:a,currentBook:n,categories:e.categories.categories,authors:o}}),{updateBooksProps:Oe,addNewBook:function(e){return function(t){var a=function(e){var t=new FormData,a=e.name,n=e.author,o=e.category,r=e.image;return t.append("name",a),t.append("author",n._id),t.append("category",o._id),t.append("image",r),t}(e);H.a.post("".concat(z,"/books"),a).then((function(e){var a=e.data.data;t(Ce([{prop:"books",value:a}])),t(Oe([{prop:"isBookModal",value:!1}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}},updateBook:function(e,t){return function(a){H.a.patch("".concat(z,"/books/").concat(e._id),e).then((function(e){var n=e.data.data;a(Oe([{prop:"books."+t,value:n}])),a(Oe([{prop:"isBookModal",value:!1}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}}})(Se),Ae=function(e){return function(t){t({type:"UPDATE_CATEGORIES_PROPS",payload:e})}},_e=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).editCategoryModal=function(t,a){t.index=a,e.props.updateCategoriesProps([{prop:"currentCategory",value:t},{prop:"isCategoryModal",value:!e.props.isModal}])},e.renderActions=function(t){var a=t.original,n=t.index;return o.a.createElement("div",null,o.a.createElement(U.a,{onClick:e.editCategoryModal.bind(Object(de.a)(e),a,n),color:"primary",style:{marginRight:10,marginLeft:10}},o.a.createElement("i",{className:"fa fa-edit"})),o.a.createElement(U.a,{color:"danger",onClick:function(){window.confirm("Are you sure?")&&e.props.deleteCategory(a._id,n)}},o.a.createElement("i",{className:"fa fa-trash"})))},e.columns=[{Header:"Id",accessor:"_id"},{Header:"Name",accessor:"name"},{Header:"Actions",Cell:e.renderActions.bind(Object(de.a)(e)),sortable:!1}],e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.categories;return o.a.createElement(he.a,{defaultPageSize:5,columns:this.columns,data:e,getTdProps:function(){return{style:{display:"flex",justifyContent:"center"}}}})}}]),a}(n.Component),xe=Object(s.b)((function(e){var t=e.categories;return{categories:t.categories,isModal:t.isCategoryModal}}),{updateCategoriesProps:Ae,deleteCategory:function(e,t){return function(a){H.a.delete("".concat(z,"/categories/").concat(e)).then((function(e){var n;a((n=[{prop:"categories."+t}],function(e){e({type:"DELETE_CATEGORIES_PROPS",payload:n})})),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}}})(_e),Te=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).toggle=function(){e.props.updateCategoriesProps([{prop:"currentCategory",value:{name:""}},{prop:"isCategoryModal",value:!e.props.isModal}])},e.onChange=function(t){var a=t.target,n=a.name,o=a.value;e.props.updateCategoriesProps([{prop:"currentCategory."+n,value:o}])},e.onSubmit=function(t){t.preventDefault();var a=e.props,n=a.addNewCategory,o=a.updateCategory,r=a.currentCategory;r._id?o(r,r.index):n(r)},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isModal,a=e.currentCategory;return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12",style:{display:"flex",justifyContent:"flex-end",padding:"20px"}},o.a.createElement(U.a,{color:"success",onClick:this.toggle},o.a.createElement("i",{className:"fa fa-plus"})))),o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12"},o.a.createElement(xe,null))),o.a.createElement(le.a,{isOpen:t,toggle:this.toggle},o.a.createElement(B.a,{onSubmit:this.onSubmit,method:"POST"},o.a.createElement(ie.a,{toggle:this.toggle},"Category"),o.a.createElement(se.a,null,o.a.createElement(L.a,{type:"text",name:"name",placeholder:"category name",value:a.name,onChange:this.onChange,required:!0})),o.a.createElement(ue.a,null,o.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),o.a.createElement(U.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),a}(n.Component),Ne=Object(s.b)((function(e){var t=e.categories;return{isModal:t.isCategoryModal,currentCategory:t.currentCategory}}),{updateCategoriesProps:Ae,addNewCategory:function(e){return function(t){console.log("category",e),H.a.post("".concat(z,"/categories"),e).then((function(e){var a,n=e.data.data;t((a=[{prop:"categories",value:n}],function(e){e({type:"MERGE_CATEGORIES_PROPS",payload:a})})),t(Ae([{prop:"isCategoryModal",value:!1}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}},updateCategory:function(e,t){return function(a){H.a.patch("".concat(z,"/categories/").concat(e._id),e).then((function(e){var n=e.data.data;a(Ae([{prop:"categories."+t,value:n}])),a(Ae([{prop:"isCategoryModal",value:!1}])),K("Success!",e.data.message,"success")})).catch((function(e){V(e)}))}}})(Te),Re=a(243),De=a(244),Be=a(5),Me=a.n(Be);function Ie(e){var t=e.name,a=e.tab,n=e.activeTab,r=e.toggle;return o.a.createElement(Re.a,null,o.a.createElement(De.a,{className:Me()({active:n===a}),onClick:function(){r(a)}},t))}var Le=function(e){return function(t){t({type:"UPDATE_ADMIN_PROPS",payload:e})}},Ue=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).toggle=function(t){e.props.activeTab!==t&&e.props.updateAdminProps([{prop:"activeTab",value:t}])},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Admin panel - ".concat(G),H.a.defaults.headers.common.Authorization="Bearer "+this.props.token,this.props.getAllBooks(),this.props.getAllAuthors(),this.props.getAllCategories()}},{key:"render",value:function(){var e=this.props.activeTab;return o.a.createElement(_.a,null,o.a.createElement(D.a,{tabs:!0},o.a.createElement(Ie,{name:"Categories",tab:"1",activeTab:e,toggle:this.toggle}),o.a.createElement(Ie,{name:"Books",tab:"2",activeTab:e,toggle:this.toggle}),o.a.createElement(Ie,{name:"Authors",tab:"3",activeTab:e,toggle:this.toggle})),o.a.createElement(re.a,{activeTab:e},o.a.createElement(ce.a,{tabId:"1"},o.a.createElement(Ne,null)),o.a.createElement(ce.a,{tabId:"2"},o.a.createElement(Pe,null)),o.a.createElement(ce.a,{tabId:"3"},o.a.createElement(be,null))))}}]),a}(n.Component),Fe=Object(s.b)((function(e){var t=e.admin;return{activeTab:t.activeTab,token:t.token}}),{updateAdminProps:Le,getAllBooks:function(){return function(e){H.a.get("".concat(z,"/books")).then((function(t){var a=t.data.data;e(Oe([{prop:"books",value:a}]))})).catch((function(e){V(e)}))}},getAllAuthors:function(){return function(e){H.a.get("".concat(z,"/authors")).then((function(t){var a=t.data.data;e(fe([{prop:"authors",value:a}]))})).catch((function(e){V(e)}))}},getAllCategories:function(){return function(e){H.a.get("".concat(z,"/categories")).then((function(t){var a=t.data.data;e(Ae([{prop:"categories",value:a}]))})).catch((function(e){V(e)}))}}})(Ue),He=a(247),Ge=(a(202),function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).validateEmail=function(t){var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.target.value)?"has-success":"has-danger";e.props.updateAdminProps([{prop:"emailState",value:a}])},e.handleChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,o=a.name;e.props.updateAdminProps([{prop:o,value:n}])},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Admin Login - ".concat(G)}},{key:"submitForm",value:function(e){e.preventDefault();var t=this.props,a=t.email,n=t.password;a&&n&&this.props.loginAdmin(a,n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.email,n=t.password,r=t.emailState;return o.a.createElement(_.a,{className:"Login"},o.a.createElement("h2",null,"Sign In"),o.a.createElement(B.a,{className:"form",onSubmit:function(t){return e.submitForm(t)}},o.a.createElement(T.a,null,o.a.createElement(M.a,null,o.a.createElement(I.a,null,"Username"),o.a.createElement(L.a,{type:"email",name:"email",id:"exampleEmail",placeholder:"myemail@email.com",value:a,valid:"has-success"===r,invalid:"has-danger"===r,onChange:function(t){e.validateEmail(t),e.handleChange(t)},required:!0}),o.a.createElement($.a,{valid:!0},"That's a tasty looking email you've got there."),o.a.createElement($.a,null,"Uh oh! Looks like there is an issue with your email. Please input a correct email."),o.a.createElement(He.a,null,"Your username is most likely your email."))),o.a.createElement(T.a,null,o.a.createElement(M.a,null,o.a.createElement(I.a,{for:"examplePassword"},"Password"),o.a.createElement(L.a,{type:"password",name:"password",id:"examplePassword",placeholder:"********",value:n,onChange:function(t){return e.handleChange(t)},required:!0}))),o.a.createElement(U.a,null,"Submit")))}}]),a}(n.Component)),We=Object(s.b)((function(e){var t=e.admin;return{email:t.email,password:t.password,emailState:t.emailState,token:t.token}}),{updateAdminProps:Le,loginAdmin:function(e,t){return function(a){console.log(e,t),H.a.post("".concat(z,"/admin/login"),{username:e,password:t}).then((function(e){var t=e.data.token;a(Le([{prop:"token",value:t}])),K("Login Success!","Welecome, redirecting to admin panel...","success")})).catch((function(e){V(e)}))}}})(Ge),qe={backgroundColor:"#F8F8F8",borderTop:"1px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},ze={display:"block",padding:"20px",height:"60px",width:"100%"};var Ke=function(){return o.a.createElement("div",null,o.a.createElement("div",{style:ze}),o.a.createElement("div",{style:qe},o.a.createElement("a",{href:"https://github.com/aAbdelnaby88/Good-Reads/",target:"_blank"},"By ITI students - cloud platfrom development track - intake 40")))},Ve=a(105),Je=a.n(Ve),Xe=a(248),Ze=a(249),$e=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).onSubmit=function(t){t.preventDefault();var a=t.target.q.value;a&&(e.props.searchBooks(a),e.props.history.push("/search?q=".concat(a)))},e.state={isOpen:!1},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this;console.log("prp",this.props);var t=this.props.user.image;return o.a.createElement(N.a,{color:"light",light:!0,expand:"md",style:{marginBottom:"10px"}},o.a.createElement(R.a,{tag:l.b,to:"/dashboard"},"Good Reads"),o.a.createElement(Xe.a,{isOpen:this.state.isOpen,navbar:!0},o.a.createElement(D.a,{className:"mr-auto",navbar:!0},o.a.createElement(Re.a,null,o.a.createElement(De.a,{to:"/categories",tag:l.b},"Categories")),o.a.createElement(Re.a,null,o.a.createElement(De.a,{to:"/books",tag:l.b},"Books")),o.a.createElement(Re.a,null,o.a.createElement(De.a,{to:"/authors",tag:l.b},"Authors")),o.a.createElement(Re.a,{className:"offset-md-1  col-8"},o.a.createElement(B.a,{onSubmit:this.onSubmit},o.a.createElement(L.a,{size:"40",type:"text",name:"q",placeholder:"Type book name"})))),o.a.createElement(D.a,{className:"ml-auto",navbar:!0},o.a.createElement(Re.a,null,o.a.createElement("img",{src:"".concat("","/images/").concat(t),style:{width:"50px",height:"40px"},className:"rounded-circle"})),o.a.createElement(Re.a,{className:"offset-md-1  col-12"},o.a.createElement(U.a,{onClick:this.props.logoutUser},o.a.createElement("i",{className:"fa fa-sign-out"}))))),o.a.createElement(Ze.a,{onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}))}}]),a}(n.Component),Ye=Object(s.b)((function(e){return{user:e.login.user}}),{logoutUser:function(){return function(e){localStorage.removeItem("token"),e(J("token",null)),K("Success!","Logged out successsuly!","success")}},searchBooks:function(e){return function(t){H.a.get("".concat(z,"/search/").concat(e)).then((function(e){var a=e.data.data;console.log("search",a),t(Oe([{prop:"search",value:a}]))})).catch((function(e){V(e)}))}}})($e),Qe=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).renderSelect=function(t){var a=t.original,n=t.index;return o.a.createElement(ye.a,{options:[{shelve:"want to read"},{shelve:"reading"},{shelve:"read"}],menuPortalTarget:document.body,value:a,getOptionLabel:function(e){return e.shelve},getOptionValue:function(e){return e},onChange:function(t){e.props.updateTodoListItem(a.book._id,t.shelve,n)}})},e.columns=[{Header:"Cover",Cell:function(e){var t=e.original.book.image;return o.a.createElement("img",{src:"".concat("","/images/").concat(t),style:{width:"50px",height:"40px"}})}},{Header:"Name",accessor:"book.name",filterable:!0},{Header:"Author",Cell:function(t){var a=t.original.book.author,n=e.props.authors;if(n&&n.hasOwnProperty(a)){var o=n[a];return o.firstName+" "+o.lastName}}},{Header:"Shelve",Cell:e.renderSelect.bind(Object(de.a)(e)),sortable:!1}],e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Dashboard - ".concat(G),this.props.getAllTodos()}},{key:"render",value:function(){var e=this.props,t=(e.activeTodosTab,e.todos);return o.a.createElement(_.a,null,o.a.createElement(he.a,{defaultPageSize:5,columns:this.columns,data:t,getTdProps:function(e,t,a){return{style:{overflow:"visible"}}}}))}}]),a}(n.Component),et=Object(s.b)((function(e){var t=e.books;return{activeTodosTab:t.activeTodosTab,todos:t.todos,authors:e.authors.authorsList}}),{getAllTodos:function(){return function(e){H.a.get("".concat(z,"/todos")).then((function(t){var a=t.data.data;e(Oe([{prop:"todos",value:a}]))})).catch((function(e){V(e)}))}},updateBooksProps:Oe,updateTodoListItem:function(e,t,a){return function(n){H.a.patch("".concat(z,"/todos/").concat(e),{shelve:t}).then((function(e){e.data.data;n(Oe([{prop:"todos.".concat(a,".shelve"),value:t}]))})).catch((function(e){console.log(e)}))}}})(Qe),tt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Categories - ".concat(G)}},{key:"render",value:function(){var e=this.props.categories;return o.a.createElement("div",null,o.a.createElement("h2",{style:{fontWeight:"bold",textTransform:"uppercase"}},"Categories"),o.a.createElement("hr",null),o.a.createElement(x.a,null,Object.keys(e).map((function(t){return o.a.createElement(T.a,{key:t,xs:"6"},o.a.createElement("div",null,o.a.createElement(l.b,{to:"/categories/"+t},o.a.createElement("h3",{style:{color:"#b6e3e9",fontWeight:"bold",textTransform:"uppercase"}},e[t].name))))}))))}}]),a}(n.Component),at=Object(s.b)((function(e){return{categories:e.categories.categoriesList}}))(tt),nt=a(250),ot=a(251),rt=a(252),ct=a(253),lt=a(254);function it(e){var t=e._id,a=e.name,n=e.image,r=e.author;return o.a.createElement(nt.a,null,o.a.createElement(l.b,{to:"/books/".concat(t)},o.a.createElement(ot.a,{top:!0,height:"300p",src:"".concat("","/images/").concat(n),alt:a})),o.a.createElement(rt.a,null,o.a.createElement(ct.a,null,"Name:"," ",o.a.createElement(l.b,{style:{textTransform:"capitalize",fontWeight:"bold",color:"#999999"},to:"/books/".concat(t)},a)),o.a.createElement(lt.a,null,"By:"," ",o.a.createElement(l.b,{style:{textTransform:"capitalize",fontWeight:"bold",color:"#999999"},to:"/authors/".concat(r._id)},r.firstName+" "+r.lastName))))}var st=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.books;return o.a.createElement(x.a,null,e&&e.map((function(e){var t=e._id,a=e.name,n=e.author,r=e.image;return o.a.createElement(T.a,{style:{marginBottom:"20px"},key:t,xs:"3"},o.a.createElement(it,{_id:t,name:a,image:r,author:n}))})))}}]),a}(n.Component),ut=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.category;if(!e)return o.a.createElement("div",null);var t=e.name,a=e.books;return document.title="".concat(t," - ").concat(G),o.a.createElement("div",null,o.a.createElement(te.a,{style:{display:"flex",justifyContent:"center",backgroundColor:"#ffffe6"}},o.a.createElement("h2",{style:{fontWeight:"bold",textTransform:"uppercase"}},t)),o.a.createElement(st,{books:a}))}}]),a}(n.Component),pt=Object(s.b)((function(e,t){return{category:e.categories.categoriesList[t.match.params.id]}}),{getCategory:function(e){return function(t){H.a.get("".concat(z,"/categories/").concat(e)).then((function(e){var a=e.data.data;t(Ae([{prop:"currentCategory",value:a}]))})).catch((function(e){V(e)}))}}})(ut),mt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentWillMount",value:function(){document.title="Authors - ".concat(G)}},{key:"render",value:function(){var e=this,t=this.props.authors;return console.log(t),o.a.createElement("div",null,o.a.createElement("h2",{style:{fontWeight:"bold",textTransform:"uppercase"}},"Authors"),o.a.createElement("hr",null),o.a.createElement(x.a,null,Object.keys(t).map((function(t){var a=e.props.authors[t],n=a.firstName,r=a.lastName,c=a.image;return o.a.createElement(T.a,{key:t,xs:"3"},o.a.createElement(nt.a,null,o.a.createElement(l.b,{to:"/authors/".concat(t)},o.a.createElement(ot.a,{top:!0,height:"300p",src:"".concat("","/images/").concat(c),alt:"Autho name"})),o.a.createElement(rt.a,null,o.a.createElement(ct.a,null,"Name:"," ",o.a.createElement(l.b,{style:{textTransform:"capitalize",fontWeight:"bold",color:"#999999"},to:"/authors/".concat(t)},"".concat(n," ").concat(r))))))}))))}}]),a}(n.Component),dt=Object(s.b)((function(e){return{authors:e.authors.authorsList}}))(mt),ht=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.author;if(!e)return o.a.createElement("div",null);var t=e.firstName,a=e.lastName,n=e.dob,r=e.image,c=e.books,l=e.firstName+" "+e.lastName;return document.title="".concat(l," - ").concat(G),o.a.createElement("div",null,o.a.createElement(te.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"3"},o.a.createElement(ot.a,{top:!0,height:"300p",src:"".concat("","/images/").concat(r),alt:"Autho name"})),o.a.createElement(T.a,{sm:"8"},"Name:",o.a.createElement("h2",{style:{fontWeight:"bold",textTransform:"uppercase"}},"".concat(t," ").concat(a)),"Date of birth:"," ",o.a.createElement("h2",{style:{fontWeight:"bold",textTransform:"uppercase"}},new Date(n).toDateString())))),o.a.createElement(st,{books:c}))}}]),a}(n.Component),ft=Object(s.b)((function(e,t){return{author:e.authors.authorsList[t.match.params.id]}}),{})(ht),gt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Books- ".concat(G)}},{key:"render",value:function(){return o.a.createElement(st,{books:this.props.books})}}]),a}(n.Component),vt=a(255),Et=a(256),bt=a(79),yt=a.n(bt),Ot=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getBook(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.userId,n=t.book,r=n._id,c=n.name,i=n.author,s=n.category,u=n.image,p=n.myRate,m=n.rates,d=n.todo,h=n.review,f=n.reviews,g=-1,v=m?m.reduce((function(e,t,a){return p&&p._id===t._id&&(g=a),e+t.value}),0):0;return v=m?v/m.length:0,document.title="".concat(c,"- ").concat(G),o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement(T.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},xs:"3"},o.a.createElement(vt.a,{object:!0,width:"100%",height:"300px",src:"".concat("","/images/").concat(u),alt:c}),o.a.createElement("div",{style:{width:"80%"}},o.a.createElement(ye.a,{options:[{shelve:"want to read"},{shelve:"reading"},{shelve:"read"}],value:d,getOptionLabel:function(e){return e.shelve},getOptionValue:function(e){return e},onChange:function(t){d?e.props.updateTodo(r,t.shelve):e.props.submitTodo(r,t.shelve)}})),o.a.createElement(yt.a,{rating:p?p.value:0,starHoverColor:"#ffe680",starRatedColor:"#ffe680",changeRating:function(t){p?e.props.updateRate(p._id,t,g):e.props.submitRate(r,t)},numberOfStars:5,name:"rating",starDimension:"30px",starSpacing:"5px"})),o.a.createElement(T.a,{xm:"8"},o.a.createElement("h2",null,"Title:"," ",o.a.createElement("i",{style:{textTransform:"uppercase",fontWeight:"bold"}},c)),o.a.createElement("h5",null,"By:"," ",i&&o.a.createElement(l.b,{style:{textTransform:"capitalize",fontWeight:"bold",color:"#999999"},to:"/authors/".concat(i._id)},i.firstName+" "+i.lastName)),o.a.createElement("h5",{style:{fontWeight:"bold",textTransform:"uppercase"}},s&&o.a.createElement(l.b,{style:{textTransform:"capitalize",fontWeight:"bold",color:"#999999"},to:"/categories/".concat(s._id)},s.name)),o.a.createElement(yt.a,{rating:v||0,starRatedColor:"#ffe680",numberOfStars:5,name:"rating",starDimension:"30px",starSpacing:"5px"}),o.a.createElement("p",null,v," - ",m?m.length:0," ratings"))),o.a.createElement("hr",null),o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12"},o.a.createElement(B.a,{onSubmit:function(t){t.preventDefault(),e.props.addReview(r,h)}},o.a.createElement(M.a,null,o.a.createElement(I.a,null,"Write your review:"),o.a.createElement(L.a,{placeholder:"Write something",value:h,type:"textarea",onChange:function(t){e.props.updateBooksProps([{prop:"currentBook.review",value:t.target.value}])},required:!0}),o.a.createElement(M.a,{style:{paddingTop:"10px",display:"flex",justifyContent:"flex-end"}},o.a.createElement(U.a,{type:"submit",color:"primary"},"Add review")))))),o.a.createElement(x.a,null,o.a.createElement(T.a,{sm:"12"},f&&f.map((function(t,n){var r=t._id,c=t.content,l=t.date,i=t.user,s=i._id,u=i.firstName,p=i.lastName;return o.a.createElement(nt.a,null,o.a.createElement(rt.a,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("div",null,o.a.createElement(ct.a,{style:{fontWeight:"bold"}},o.a.createElement("h5",null,"By: ","".concat(u," ").concat(p))),o.a.createElement(lt.a,{style:{textDecoration:"underline"}},new Date(l).toDateString())),a===s&&o.a.createElement(U.a,{className:"btn btn-danger",onClick:function(){window.confirm("Are you sure?")&&e.props.deleteReview(r,n)}},o.a.createElement("i",{className:"fa fa-trash"}))),o.a.createElement(Et.a,{style:{textTransform:"capitalize"}},c)))})))))}}]),a}(n.Component),kt=Object(s.b)((function(e,t){return{book:e.books.currentBook,userId:e.login.user.id}}),{updateBooksProps:Oe,getBook:function(e){return function(t){H.a.get("".concat(z,"/books/").concat(e)).then((function(e){var a=e.data.data;t(Oe([{prop:"currentBook",value:a}]))})).catch((function(e){V(e)}))}},submitRate:function(e,t){return function(a){H.a.post("".concat(z,"/rates/").concat(e),{value:t}).then((function(e){var t=e.data.data;a(Oe([{prop:"currentBook.myRate",value:t}])),a(Ce([{prop:"currentBook.rates",value:t}]))})).catch((function(e){console.log(e)}))}},updateRate:function(e,t,a){return function(n){H.a.patch("".concat(z,"/rates/").concat(e),{value:t}).then((function(e){n(Oe([{prop:"currentBook.myRate.value",value:t},{prop:"currentBook.rates.".concat(a,".value"),value:t}]))})).catch((function(e){console.log(e)}))}},submitTodo:function(e,t){return function(a){H.a.post("".concat(z,"/todos/").concat(e),{shelve:t}).then((function(e){var t=e.data.data;a(Oe([{prop:"currentBook.todo",value:t}]))})).catch((function(e){console.log(e)}))}},updateTodo:function(e,t){return function(a){H.a.patch("".concat(z,"/todos/").concat(e),{shelve:t}).then((function(e){var t=e.data.data;a(Oe([{prop:"currentBook.todo",value:t}]))})).catch((function(e){console.log(e)}))}},addReview:function(e,t){return function(a){H.a.post("".concat(z,"/reviews/").concat(e),{content:t}).then((function(e){var t=e.data.data;a(Oe([{prop:"currentBook.reviews",value:t}]))})).catch((function(e){console.log(e)}))}},deleteReview:function(e,t){return function(a){H.a.post("".concat(z,"/reviews/").concat(e)).then((function(e){a(ke([{prop:"currentBook.reviews.".concat(t)}]))})).catch((function(e){console.log(e)}))}}})(Ot),Ct=a(106),jt=a.n(Ct),wt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){document.title="Search results - ".concat(G)}},{key:"render",value:function(){var e=this.props.search,t=jt.a.parse(this.props.location.search);return o.a.createElement("div",null,o.a.createElement("h4",null,"".concat(e.length," items found for '").concat(t.q,"'")),o.a.createElement("hr",null),o.a.createElement(st,{books:e}))}}]),a}(n.Component),St=Object(s.b)((function(e){return{search:e.books.search}}))(wt),Pt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).token=W(),H.a.defaults.headers.common.Authorization="Bearer "+e.token,e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.updateLoginField("token",this.token),this.props.updateLoginField("user",Je()(this.token)),this.props.getAllData()}},{key:"componentDidUpdate",value:function(){this.props.token||this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.books;return o.a.createElement(_.a,null,o.a.createElement(l.a,null,o.a.createElement(i.b,{component:Ye}),o.a.createElement(i.b,{path:"/dashboard",exact:!0,component:et}),o.a.createElement(i.b,{path:"/categories",exact:!0,component:at}),o.a.createElement(i.b,{path:"/categories/:id",exact:!0,component:pt}),o.a.createElement(i.b,{path:"/authors",exact:!0,component:dt}),o.a.createElement(i.b,{path:"/authors/:id",exact:!0,component:ft}),o.a.createElement(i.b,{path:"/search",exact:!0,component:St}),o.a.createElement(i.b,{path:"/books",exact:!0},o.a.createElement(gt,{books:e})),o.a.createElement(i.b,{path:"/books/:id",exact:!0,component:kt})))}}]),a}(n.Component),At=Object(s.b)((function(e){return{token:e.login.token,books:e.books.books}}),{updateLoginField:J,getAllData:function(){return function(e){H.a.get("".concat(z,"/books")).then((function(t){var a=t.data.data,n=a.reduce((function(e,t){var a=t.category;return e.hasOwnProperty(a._id)?e[a._id].books.push(t):e[a._id]={name:a.name,books:[t]},e}),{}),o=a.reduce((function(e,t){var a=t.author;return e.hasOwnProperty(a._id)?e[a._id].books.push(t):e[a._id]=Object(h.a)({},a,{books:[t]}),e}),{});e(Oe([{prop:"books",value:a}])),e({type:"UPDATE_CATEGORIES_PROPS",payload:[{prop:"categoriesList",value:n}]}),e({type:"UPDATE_AUTHORS_PROPS",payload:[{prop:"authorsList",value:o}]})})).catch((function(e){V(e)}))}}})(Pt),_t=a(35),xt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.token,n=Object(_t.a)(e,["component","token"]);return o.a.createElement(i.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(t,e):o.a.createElement(i.a,{to:"/login"})}}))}}]),a}(n.Component),Tt=Object(s.b)((function(e){return{token:e.admin.token}}))(xt),Nt=function(e){Object(P.a)(a,e);var t=Object(A.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.token,n=Object(_t.a)(e,["component","token"]);return o.a.createElement(i.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(i.a,{to:"/admin"}):o.a.createElement(t,e)}}))}}]),a}(n.Component),Rt=Object(s.b)((function(e){return{token:e.admin.token}}))(Nt),Dt=function(e){var t=e.component,a=Object(_t.a)(e,["component"]),n=W();return o.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(t,e):o.a.createElement(i.a,{to:"/"})}}))},Bt=function(e){var t=e.component,a=Object(_t.a)(e,["component"]),n=W();return o.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(i.a,{to:"/dashboard"}):o.a.createElement(t,e)}}))},Mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,It=Object(u.e)(j,Mt(Object(u.a)(p.a)));var Lt=function(){return o.a.createElement(s.a,{store:It},o.a.createElement(d.a,null),o.a.createElement(l.a,null,o.a.createElement(i.d,null,o.a.createElement(Rt,{component:We,path:"/login",exact:!0}),o.a.createElement(Tt,{component:Fe,path:"/admin",exact:!0}),o.a.createElement(Bt,{path:"/",exact:!0,component:oe}),o.a.createElement(Dt,{path:"/",component:At})),o.a.createElement(Ke,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(220),a(221);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[107,1,2]]]);
//# sourceMappingURL=main.7e4ddf53.chunk.js.map